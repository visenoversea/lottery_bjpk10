import{s as E,u as J,c as T,g as b,F as j,r as C,o as m,a as g,e as x,k as M,b as t,t as s,d as e,a8 as V,J as I,aZ as et,a_ as st,Y as it,p,v as h,Z as k,m as z,a$ as lt,b0 as ot,M as F,N as A,a7 as nt,b1 as at,O as ct,I as dt,ax as _t,b2 as rt,Q as ut}from"./main.e10a3069.js";import{_ as vt}from"./CashoutDetailPop.6e6ab695.js";const ft={class:"c_cashout_detail_pop"},pt={class:"v-head g-flex-align-center"},ht=t("i",{class:"iconfont icon-zuo"},null,-1),mt=[ht],gt={class:"v-head-title g-flex-align-center g-flex-justify-center"},xt={class:"c-pop-container"},yt={class:"c-pop-content"},bt={class:"c-pop-item g-flex-align-center"},$t={class:"c-pop-item-left"},kt={class:"c-pop-item-right"},Ct={class:"c-pop-item-right-val"},wt={class:"c-pop-item c-pop-item-fail g-flex-align-center"},Tt={class:"c-pop-item-left"},jt={class:"c-pop-item-right"},Ht={class:"c-pop-item-right-val"},Bt={class:"c-pop-item c-pop-item-fail g-flex-align-center"},Dt={class:"c-pop-item-left"},St={class:"c-pop-item-right"},Lt={class:"c-pop-item-right-val"},Nt={class:"c-pop-item c-pop-item-fail g-flex-align-center"},Mt={class:"c-pop-item-left"},Vt={class:"c-pop-item-right"},It={class:"c-pop-item-right-val"},Ot={class:"c-pop-item g-flex-align-center"},Pt={class:"c-pop-item-left"},Gt={class:"c-pop-item-right"},Rt={class:"c-pop-item-right-val"},Yt={class:"c-pop-item g-flex-align-center"},Ut={class:"c-pop-item-left"},Zt={class:"c-pop-item-right"},zt={class:"c-pop-item-right-val"},Ft={__name:"BillDetailPop",props:{typeVal:{type:Number,default(){return 1}}},setup(Q,{expose:y}){E();const $=J(),_=T(()=>$.tm("mybill"));let d=b(!1),a=j({obj:{}});function H(r){B(r)}async function B(r){const{success:u,data:n}=await et({id:r});!u||(a.obj=n.info,d.value=!0)}function c(){d.value=!1}return y({onShow:H}),(r,u)=>{const n=C("van-popup");return m(),g("div",ft,[x(n,{position:"right","close-on-click-overlay":!1,show:e(d),"onUpdate:show":u[0]||(u[0]=v=>I(d)?d.value=v:d=v),class:"c-pop g-flex-column"},{default:M(()=>[t("div",pt,[t("div",{onClick:c,class:"v-head-back-icon g-flex-align-center"},mt),t("div",gt,[t("span",null,s(e(_).titleText),1)])]),t("div",xt,[t("div",yt,[t("div",bt,[t("div",$t,s(e(_).lotteryType),1),t("div",kt,[t("span",Ct,s(e(a).obj.lottery_name),1)])]),t("div",wt,[t("div",Tt,s(e(_).betNum),1),t("div",jt,[t("span",Ht,s(e(a).obj.lottery_group_name+"-"+e(a).obj.bet_no),1)])]),t("div",Bt,[t("div",Dt,s(e(_).betAmount),1),t("div",St,[t("span",Lt,s(e(a).obj.bet_amount),1)])]),t("div",Nt,[t("div",Mt,s(e(_).winorlose),1),t("div",Vt,[t("span",It,s(e(a).obj.win_amount),1)])]),t("div",Ot,[t("div",Pt,s(e(_).rate),1),t("div",Gt,[t("span",Rt,s(e(a).obj.odds),1)])]),t("div",Yt,[t("div",Ut,s(e(_).timeText),1),t("div",Zt,[t("span",zt,s(e(V)(e(a).obj.create_time)),1)])])])])]),_:1},8,["show"])])}}};const At={class:"v_my_bill g-flex-column n-bg"},Et={class:"new-head"},Jt=t("img",{src:dt,alt:""},null,-1),Qt=[Jt],Wt={class:"new-head_title_text"},qt={class:"v-licai-container-box g-flex-column"},Kt={class:"v-licai-head g-flex-align-center g-flex-justify-center"},Xt={class:"v-licai-head-list g-flex-align-center"},te={class:"v-licai-head-item-title"},ee={class:"v-licai-head-item-title"},se={class:"v-licai-head-item-title"},ie={class:"v-my-bill-container"},le={key:0,class:"v-my-bill-content"},oe=["onClick"],ne={class:"v-list-item-top g-flex-align-center g-flex-justify-between"},ae={class:"v-list-item-top-title"},ce={class:"v-list-item-middle g-flex-align-center"},de={class:"v-list-item-middle-title"},_e={class:"v-list-item-bottom g-flex-justify-between g-flex-align-center"},re={class:"v-list-item-middle-time"},ue={key:1,class:"v-finance-list-box"},ve=["onClick"],fe={class:"v-item-top g-flex-justify-between g-flex-align-center"},pe={class:"v-item-top-title"},he={class:"v-item-top-status g-flex-align-center"},me=t("i",{class:"iconfont icon-you"},null,-1),ge={class:"v-item-bottom-list g-flex-align-center"},xe={class:"v-bottom-list-item"},ye={class:"v-bottom-list-item-val"},be={class:"v-bottom-list-item"},$e={class:"v-bottom-list-item-title"},ke={class:"v-bottom-list-item-val"},Ce={class:"v-bottom-list-item g-flex-column g-flex-align-end"},we={class:"v-bottom-list-item-title"},Te={class:"v-bottom-list-item-val"},je=["onClick"],De={__name:"MyBill",setup(Q){const y=E(),$=J(),_=T(()=>$.tm("mybill")),d=T(()=>$.tm("gongyong")),a=T(()=>$.tm("finance"));function H(o){_t.confirm({title:"",message:d.value.cehuitikuanTipsText,cancelButtonColor:"#fff",confirmButtonColor:"var(--g-main_color)"}).then(()=>{B(o)}).catch(()=>{})}async function B(o){y.loadingShow=!0;const{success:l,data:L}=await rt({id:o.id});!l||(ut.success(L.success),c.value=!0,r.value=!1,u.page=1,f.list=[],S())}let c=b(!1),r=b(!1),u=j({page:1,limit:30}),n=b(0),v=j({list:[]});w();function W(){u.page++,w()}async function w(){y.loadingShow=!0;const{success:o,data:l}=await st(u);!o||(v.list=v.list.concat(l.list),c.value=!1,r.value=!l.list.length,console.log(l))}function D(o){n.value!=o&&(n.value=o,c.value=!0,r.value=!1,u.page=1,v.list=[],f.list=[],n.value==0?(y.loadingShow=!0,w()):n.value==1?(y.loadingShow=!0,P()):(y.loadingShow=!0,S()))}let O=b(!1),f=j({list:[]});function q(){if(u.page++,n.value==1)return P();S()}async function P(){const{success:o,data:l}=await lt(u);!o||(f.list=f.list.concat(l.list),c.value=!1,O.value=!1,r.value=!l.list.length,console.log(l))}async function S(){const{success:o,data:l}=await ot(u);!o||(f.list=f.list.concat(l.list),O.value=!1,c.value=!1,r.value=!l.list.length,console.log(l))}const G=b(null),R=b(null);function Y(o){console.log(n),n.value?G.value.onShow(o):R.value.onShow(o.key_id)}function K(o){if(o==0)return a.value.statusFailText;if(o==1)return a.value.statusSuccessText;if(o==2)return a.value.statusIngText;if(o==3)return a.value.statusWaitText}return(o,l)=>{const L=C("van-icon"),U=C("van-list"),X=C("no-list"),tt=C("NoList");return m(),g("div",At,[t("div",Et,[t("div",{onClick:l[0]||(l[0]=i=>o.$router.go(-1)),class:"new-head-back"},Qt)]),t("div",Wt,[it(s(e(_).titleText),1),p(x(L,{onClick:l[1]||(l[1]=i=>w()),color:"#fff",name:"replay",size:"1.5rem"},null,512),[[h,!e(n)]])]),t("div",qt,[t("div",Kt,[t("div",Xt,[t("div",{onClick:l[2]||(l[2]=i=>D(0)),class:k([e(n)==0?"active":"","v-licai-head-item g-flex-justify-center g-flex-align-center"])},[t("div",te,s(e(_).jiangliHistoryText),1)],2),t("div",{onClick:l[3]||(l[3]=i=>D(1)),class:k([e(n)==1?"active":"","v-licai-head-item g-flex-justify-center g-flex-align-center"])},[t("div",ee,s(e(_).rechargeHistoryText),1)],2),t("div",{onClick:l[4]||(l[4]=i=>D(2)),class:k([e(n)==2?"active":"","v-licai-head-item g-flex-align-center g-flex-justify-center"])},[t("div",se,s(e(_).cashoutHistoryText),1)],2)])]),t("div",ie,[e(n)==0?(m(),g("div",le,[p(x(U,{class:"v-list",loading:e(c),"onUpdate:loading":l[5]||(l[5]=i=>I(c)?c.value=i:c=i),finished:e(r),"loading-text":e(d).loadingText,"finished-text":e(d).finishText,onLoad:W,"immediate-check":!1},{default:M(()=>[(m(!0),g(F,null,A(e(v).list,(i,N)=>(m(),g("div",{onClick:Z=>Y(i),key:N,class:"v-list-item"},[t("div",ne,[t("div",ae,s(i.title),1),t("div",{class:k([e(nt)(i.amount),"v-list-item-top-money"])},s(Number(i.amount)>=0?"+"+i.amount:i.amount)+" "+s(i.currency),3)]),t("div",ce,[t("div",de,s(i.des),1)]),t("div",_e,[t("div",re,s(e(V)(i.create_time,"YYYY/MM/DD HH:mm:ss")),1)])],8,oe))),128))]),_:1},8,["loading","finished","loading-text","finished-text"]),[[h,e(v).list.length]]),p(x(X,null,null,512),[[h,!e(v).list.length]])])):z("",!0),e(n)!=0?(m(),g("div",ue,[p(x(U,{class:"v-list",loading:e(c),"onUpdate:loading":l[6]||(l[6]=i=>I(c)?c.value=i:c=i),finished:e(r),"loading-text":e(d).loadingText,"finished-text":e(d).finishText,onLoad:q,"immediate-check":!1},{default:M(()=>[(m(!0),g(F,null,A(e(f).list,(i,N)=>(m(),g("div",{onClick:Z=>Y(i),key:N,class:"v-list-item"},[t("div",fe,[t("div",pe,s(i.title),1),t("div",he,[t("span",{class:k(e(at)(i.status))},s(K(i.status)),3),me])]),t("div",ge,[t("div",xe,[p(t("div",{class:"v-bottom-list-item-title"},s(e(a).rechargeBiZhongText),513),[[h,e(n)==1]]),p(t("div",{class:"v-bottom-list-item-title"},s(e(a).tixianBiZhongText),513),[[h,e(n)==2]]),t("div",ye,s(i.currency),1)]),t("div",be,[t("div",$e,s(e(a).moneyText),1),t("div",ke,s(i.amount),1)]),t("div",Ce,[t("div",we,s(e(a).timeText),1),t("div",Te,s(e(V)(i.create_time,"MM/DD HH:mm")),1)])]),p(t("div",{onClick:ct(Z=>H(i),["stop"]),class:"v-item-bottom-btn g-flex-align-center g-flex-justify-center"},[t("span",null,s(e(d).cehuitikuanText),1)],8,je),[[h,i.status==2&&e(n)==2]])],8,ve))),128))]),_:1},8,["loading","finished","loading-text","finished-text"]),[[h,e(f).list.length]]),p(x(tt,null,null,512),[[h,!e(f).list.length]])])):z("",!0)])]),x(vt,{typeVal:e(n),ref_key:"refCashoutDetailPop",ref:G},null,8,["typeVal"]),x(Ft,{ref_key:"refBillDetailPop",ref:R},null,512)])}}};export{De as default};
