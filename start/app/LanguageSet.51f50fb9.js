import{u as b,c as _,s as y,o as u,a as r,b as t,t as v,d as i,M as O,N as w,Z as j,p as k,v as x,I as C,i as S,L as h,h as I}from"./main.ed929957.js";const $={class:"v_language_set n-bg"},B={class:"new-head"},P=t("img",{src:C,alt:""},null,-1),z=[P],A={class:"new-head_title_text"},D={class:"v-language-set-container"},G={class:"v-language-set-list"},H=["onClick"],M={class:"v-item-left g-flex-align-center"},N=["src"],q={class:"v-item-right"},E=t("i",{class:"iconfont icon-xuanzhong"},null,-1),F=[E],J={__name:"LanguageSet",setup(T){const n=b(),p=_(()=>n.tm("languageSet")),s=y();let l=_(()=>s.langList.length?s.langList.findIndex(e=>e.code==s.lang):-1);console.log("languageIndex.value",l.value);function f(e,a){l.value!=a&&L(e.code)}async function m(){const{success:e,data:a}=await I();!e||(s.banner=a.banner)}async function L(e){if(console.log("i18nObj.locale.value222222222",n.locale.value),console.log("params",e),n.locale.value!==e)return s.loadedLanguages.includes(e)?Promise.resolve(d(e)):g(e);g(e)}async function g(e){s.loadingShow=!0;const{success:a,data:o}=await S({lang:e,id:1});!a||(console.log(Object.prototype.hasOwnProperty.call(s.langObj,e)),n.setLocaleMessage(e,o.data),s.loadedLanguages.push(e),d(e))}function d(e){return s.setLanguage(e),n.locale.value=e,console.log("i18nObj.locale.value",n.locale.value),console.log("store.lang",s.lang),Object.prototype.hasOwnProperty.call(s.langObj,e)?h.use(e,s.langObj[e]):h.use("en",s.langObj.en),document.querySelector("html").setAttribute("lang",e),m(),e}return(e,a)=>(u(),r("div",$,[t("div",B,[t("div",{onClick:a[0]||(a[0]=o=>e.$router.go(-1)),class:"new-head-back"},z)]),t("div",A,v(i(p).titleText),1),t("div",D,[t("div",G,[(u(!0),r(O,null,w(i(s).langList,(o,c)=>(u(),r("div",{onClick:V=>f(o,c),class:j([i(l)==c?"active":"","v-language-set-item g-flex-align-center"]),key:c},[t("div",M,[t("img",{src:o.icon,alt:""},null,8,N),t("span",null,v(o.name),1)]),k(t("div",q,F,512),[[x,i(l)==c]])],10,H))),128))])])]))}};export{J as default};
