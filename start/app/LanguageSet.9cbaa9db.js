import{u as L,c as _,s as j,o as u,d as r,f as s,t as v,g as i,F as b,h as O,I as x,j as k,v as w,U as C,V as f,p as S}from"./index.de11b688.js";import{_ as I}from"./user_public_choice.a780c165.js";const P={class:"v_language_set"},$={class:"v-head g-flex-align-center"},B=s("i",{class:"iconfont icon-zuojiantou"},null,-1),T=[B],z={class:"v-title g-flex-align-center g-flex-justify-center"},A={class:"v-language-set-container"},D={class:"v-language-set-list"},F=["onClick"],G={class:"v-item-left g-flex-align-center"},H=["src"],V={class:"v-item-right"},q=s("img",{src:I,alt:""},null,-1),E=[q],J={__name:"LanguageSet",setup(K){const n=L(),p=_(()=>n.tm("languageSet")),t=j();let l=_(()=>t.langList.length?t.langList.findIndex(e=>e.code==t.lang):-1);console.log("languageIndex.value",l.value);function h(e,a){l.value!=a&&y(e.code)}async function m(){const{success:e,data:a}=await S({id:1});!e||(t.system.ProductType=a.info.ProductType)}async function y(e){if(console.log("i18nObj.locale.value222222222",n.locale.value),console.log("params",e),n.locale.value!==e)return t.loadedLanguages.includes(e)?Promise.resolve(d(e)):g(e);g(e)}async function g(e){t.loadingShow=!0;const{success:a,data:o}=await C({lang:e,id:1});!a||(console.log(Object.prototype.hasOwnProperty.call(t.langObj,e)),n.setLocaleMessage(e,o.data),t.loadedLanguages.push(e),d(e))}function d(e){return t.setLanguage(e),n.locale.value=e,console.log("i18nObj.locale.value",n.locale.value),console.log("store.lang",t.lang),Object.prototype.hasOwnProperty.call(t.langObj,e)?f.use(e,t.langObj[e]):f.use("en",t.langObj.en),document.querySelector("html").setAttribute("lang",e),m(),e}return(e,a)=>(u(),r("div",P,[s("div",$,[s("div",{onClick:a[0]||(a[0]=o=>e.$router.go(-1)),class:"v-head-back g-flex-align-center"},T),s("div",z,[s("span",null,v(i(p).titleText),1)])]),s("div",A,[s("div",D,[(u(!0),r(b,null,O(i(t).langList,(o,c)=>(u(),r("div",{onClick:M=>h(o,c),class:x([i(l)==c?"active":"","v-language-set-item g-flex-align-center"]),key:c},[s("div",G,[s("img",{src:o.icon,alt:""},null,8,H),s("span",null,v(o.name),1)]),k(s("div",V,E,512),[[w,i(l)==c]])],10,F))),128))])])]))}};export{J as default};
