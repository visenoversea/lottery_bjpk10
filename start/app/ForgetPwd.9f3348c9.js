import{f as U,E as H,u as M,c as k,s as N,g as _,F as C,al as A,o as D,a as R,b as e,t as d,d as t,Z as T,p as a,v,am as h,an as P,J as S,e as G,ao as q,ap as z,aq as J,Q as f,ar as O,as as Q,I as Z,at as K}from"./main.bd07921e.js";const W={class:"v_foget_pwd g-flex-column n-bg"},X={class:"new-head"},Y=e("img",{src:Z,alt:""},null,-1),ee=[Y],te={class:"new-head_title_text"},se=e("img",{class:"ch-bg",src:z},null,-1),oe={class:"v-foget-pwd-container"},ie={class:"n-nav-list g-flex-align-center",style:{margin:"0 20px"}},le={class:"v-form"},ne={class:"n-form-box"},ae={class:"n-form-title"},de={class:"v-form-item-box"},ce={class:"v-form-item g-flex-align-center"},re={class:"v-form-item-left-text"},me=e("i",{class:"iconfont icon-right-1-copy"},null,-1),_e={class:"v-form-item-middle-input"},ve=["placeholder"],fe={class:"n-form-box"},ue={class:"n-form-title"},pe={class:"v-form-item-box"},ge={class:"v-form-item g-flex-align-center"},he={class:"v-form-item-middle-input"},xe=["placeholder"],we={class:"n-form-box"},be={class:"n-form-title"},ye={class:"v-form-item-box"},ke={class:"v-form-item g-flex-align-center"},Ce={class:"v-form-item-middle-input"},Te=["type","placeholder"],Pe={class:"iconfont icon-bukejian"},Se={class:"iconfont icon-kejian"},Ve={class:"n-form-box"},Ie={class:"n-form-title"},$e={class:"v-form-item-box"},je={class:"v-form-item g-flex-align-center"},Be=e("div",{class:"v-form-item-left g-flex-align-center"},null,-1),Ee={class:"v-form-item-middle-input"},Fe=["type","placeholder"],Le={class:"iconfont icon-bukejian"},Ue={class:"iconfont icon-kejian"},He={class:"n-form-box"},Me={class:"n-form-title"},Ne={class:"v-form-item-box"},Ae={class:"v-form-item g-flex-align-center"},De=e("div",{class:"v-form-item-left g-flex-align-center"},null,-1),Re={class:"v-form-item-middle-input"},Ge=["placeholder"],qe={class:"v-form-item-middle-right-text"},ze=e("div",null,null,-1),Je=e("img",{src:K},null,-1),Oe=[Je],Qe=e("div",{class:"v-form-bottom g-flex-align-center g-flex-justify-between"},null,-1),We={__name:"ForgetPwd",setup(Ze){let V=U();H();const x=M(),u=k(()=>x.tm("gongyong")),l=k(()=>x.tm("forgetPwd")),p=N();_("");let g=_(u.value.sendCodeText),w=C({list:[]}),m=_(0),o=C({type:1,mobile:"",password:"",code:"",email:"",area_code:"",password2:""}),c=_(!1),r=_(!1);function b(n){o.type=n}j();const y=_(null);function I(){y.value.onShow()}function $(n){o.area_code=n.area_code}async function j(){const{success:n,data:s}=await A();!n||(w.list=s.list,o.area_code=s.list[0].area_code)}function B(){m.value||(o.type==1?E():o.type==2&&F())}async function E(){p.loadingShow=!0;const{success:n,data:s}=await J({area_code:o.area_code,mobile:o.mobile});if(!n)return;let i=60;f(s.msg),m.value=setInterval(()=>{i--,g.value=i===0?u.value.againSendCodeText:i+"s",i===0&&(clearInterval(m.value),m.value=0)},1e3)}async function F(){p.loadingShow=!0;const{success:n,data:s}=await O({email:o.email});if(!n)return;let i=60;f(s.msg),m.value=setInterval(()=>{i--,g.value=i==0?u.value.againSendCodeText:i+"s",i===0&&(clearInterval(m.value),m.value=0)},1e3)}async function L(){if(o.password!=o.password2)return f(l.value.pwdSecondTipsText);p.loadingShow=!0;const{success:n,data:s}=await Q(o);!n||(f.success(s.msg),V.replace({name:"login"}))}return(n,s)=>(D(),R("div",W,[e("div",X,[e("div",{onClick:s[0]||(s[0]=i=>n.$router.go(-1)),class:"new-head-back"},ee)]),e("div",te,d(t(l).titleText),1),se,e("div",oe,[e("div",ie,[e("div",{onClick:s[1]||(s[1]=i=>b(1)),class:T([t(o).type==1?"active":"","v-nav-item"])},[e("span",null,d(t(l).mobileLookText),1)],2),e("div",{onClick:s[2]||(s[2]=i=>b(2)),class:T([t(o).type==2?"active":"","v-nav-item"])},[e("span",null,d(t(l).emailLookText),1)],2)]),e("div",le,[a(e("div",ne,[e("div",ae,d(t(l).mobileText),1),e("div",de,[e("div",ce,[e("div",{onClick:I,class:"v-form-item-left g-flex-align-center",style:{"padding-left":"17px !important"}},[e("span",re,"+"+d(t(o).area_code),1),me]),e("div",_e,[a(e("input",{type:"text","onUpdate:modelValue":s[3]||(s[3]=i=>t(o).mobile=i),placeholder:t(l).mobilePlaceholderText},null,8,ve),[[h,t(o).mobile]])])])])],512),[[v,t(o).type==1]]),a(e("div",fe,[e("div",ue,d(t(l).emailText),1),e("div",pe,[e("div",ge,[e("div",he,[a(e("input",{type:"text","onUpdate:modelValue":s[4]||(s[4]=i=>t(o).email=i),placeholder:t(l).emailPlaceholderText},null,8,xe),[[h,t(o).email]])])])])],512),[[v,t(o).type==2]]),e("div",we,[e("div",be,d(t(l).pwdText),1),e("div",ye,[e("div",ke,[e("div",Ce,[a(e("input",{type:t(c)?"text":"password","onUpdate:modelValue":s[5]||(s[5]=i=>t(o).password=i),placeholder:t(l).pwdPlaceholderText},null,8,Te),[[P,t(o).password]])]),e("div",{onClick:s[6]||(s[6]=i=>S(c)?c.value=!t(c):c=!t(c)),class:"v-form-item-middle-right g-flex-align-center"},[a(e("i",Pe,null,512),[[v,!t(c)]]),a(e("i",Se,null,512),[[v,t(c)]])])])])]),e("div",Ve,[e("div",Ie,d(t(l).secondPwdText),1),e("div",$e,[e("div",je,[Be,e("div",Ee,[a(e("input",{type:t(r)?"text":"password","onUpdate:modelValue":s[7]||(s[7]=i=>t(o).password2=i),placeholder:t(l).secondPwdPlaceholderText},null,8,Fe),[[P,t(o).password2]])]),e("div",{onClick:s[8]||(s[8]=i=>S(r)?r.value=!t(r):r=!t(r)),class:"v-form-item-middle-right g-flex-align-center"},[a(e("i",Le,null,512),[[v,!t(r)]]),a(e("i",Ue,null,512),[[v,t(r)]])])])])]),e("div",He,[e("div",Me,d(t(l).codeText),1),e("div",Ne,[e("div",Ae,[De,e("div",Re,[a(e("input",{type:"text","onUpdate:modelValue":s[9]||(s[9]=i=>t(o).code=i),placeholder:t(l).codePlaceholderText},null,8,Ge),[[h,t(o).code]])]),e("div",{onClick:B,class:"v-form-item-middle-right g-flex-align-center"},[e("span",qe,d(t(g)),1)])])])]),e("div",{class:"n-btn-list",style:{padding:"30px 0px",position:"fixed",bottom:"20px",right:"30px"}},[ze,e("div",{class:"v-form-btn-box"},[e("div",{onClick:L,class:"v-form-btn g-flex-align-center g-flex-justify-center"},Oe)])]),Qe])]),G(q,{ref_key:"refBindPhonesPop",ref:y,list:t(w).list,onEmitPhoneItemClick:$},null,8,["list"])]))}};export{We as default};
