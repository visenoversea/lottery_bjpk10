import{s as T,u as $,c as v,k as q,r as h,a as p,b as m,o as a,d as c,f as i,t as d,g as e,j as x,v as k,e as L,w as D,i as F,q as G,F as R,h as V}from"./index.de11b688.js";const z={class:"v_notice_list g-flex-column"},E={class:"v-head g-flex-justify-center g-flex-align-center"},H=i("i",{class:"iconfont icon-zuojiantou"},null,-1),I=[H],O={class:"v-title g-flex-align-center g-flex-justify-center"},U={class:"v-notice-list-container"},A=["onClick"],J={class:"v-list-item-title"},K={class:"v-list-item-des"},W={__name:"NoticeList",setup(M){const y=T(),r=$(),N=v(()=>r.tm("noticelist")),u=v(()=>r.tm("gongyong")),w=q();let n=h(!1),_=h(!1),f=p({page:1,limit:30}),o=p({list:[]});async function g(){y.loadingShow=!0;const{success:l,data:t}=await G(f);!l||(o.list=o.list.concat(t.list),n.value=!1,_.value=!t.list.length,console.log(t))}g();function C(){f.page++,g()}function j(l){w.push({name:"noticedetail",query:{id:l.id}})}return(l,t)=>{const b=m("van-list"),B=m("NoList");return a(),c("div",z,[i("div",E,[i("div",{onClick:t[0]||(t[0]=s=>l.$router.go(-1)),class:"v-head-back-icon g-flex-align-center"},I),i("span",O,d(e(N).titleText),1)]),i("div",U,[x(L(b,{class:"v-list",loading:e(n),"onUpdate:loading":t[1]||(t[1]=s=>F(n)?n.value=s:n=s),finished:e(_),"loading-text":e(u).loadingText,"finished-text":e(u).finishText,onLoad:C,"immediate-check":!1},{default:D(()=>[(a(!0),c(R,null,V(e(o).list,(s,S)=>(a(),c("div",{onClick:P=>j(s),class:"v-list-item",key:S},[i("p",J,d(s.title),1),i("p",K,d(s.des),1)],8,A))),128))]),_:1},8,["loading","finished","loading-text","finished-text"]),[[k,e(o).list.length]]),x(L(B,null,null,512),[[k,!e(o).list.length]])])])}}};export{W as default};
