import{f as H,E as L,s as M,u as D,c as g,F as C,g as p,o as _,a as v,b as e,t as a,d as t,p as r,v as f,am as y,m as x,e as h,aA as A,aB as F,aC as Q,Q as W,I as q,W as z}from"./main.bd07921e.js";import{_ as J,a as K}from"./ID_f.75f875dd.js";import{_ as S}from"./OssUpload.eaea29bb.js";import{_ as X}from"./SelectRadioPop.1bf5b1f3.js";import"./aliyun-oss-sdk.42fcc8f2.js";import"./SelectRadioPop.vue_vue_type_style_index_0_lang.6a63b429.js";const Y={class:"v_user_real g-flex-column n-bg"},Z={class:"new-head"},ee=e("img",{src:q,alt:""},null,-1),te=[ee],se={class:"new-head_title_text"},oe={class:"v-user-real-container"},ie={class:"v-form"},le={class:"v-form-item"},ne={class:"v-form-item-title"},ae=["placeholder"],re=e("div",{class:"v-form-item-input-icon"},[e("i",{class:"iconfont icon-you"})],-1),ce={class:"v-form-item"},me={class:"v-form-item-title"},de={class:"v-form-item-input"},ue=["readonly","placeholder"],fe={class:"v-form-item"},_e={class:"v-form-item-title"},ve={class:"v-form-item-input"},ge=["readonly","placeholder"],pe={class:"v-form-img-list g-flex-align-center"},ye={class:"v-form-img-item-box"},xe={class:"v-form-img-item"},he=e("div",{class:"v-form-img-item-no-img-icon"},[e("img",{src:J,alt:""})],-1),ke={class:"v-form-img-item-no-img-text g-flex-align-center g-flex-justify-center"},Te={class:"v-user-real-form-cid-item-img-have-box"},Re=["src"],Ue={class:"v-form-img-item-box"},Ce={class:"v-form-img-item"},Se=e("div",{class:"v-form-img-item-no-img-icon"},[e("img",{src:K,alt:""})],-1),be={class:"v-form-img-item-no-img-text g-flex-align-center g-flex-justify-center"},we={class:"v-user-real-form-cid-item-img-have-box"},Ie=["src"],Ve={key:0,class:"v-form-btn-box"},Ge={__name:"UserReal",setup($e){const b=H();L();const c=M(),w=D(),n=g(()=>w.tm("userReal"));let o=C({type:"",typeText:"",country:"",name:"",id_card:"",front_img:"",reverse_img:""}),m=g(()=>c.userInfo);const d=g(()=>!(!m.value.userReal.id||m.value.userReal.status==0));async function I(){c.loadingShow=!0;const{success:i,data:s}=await z();if(!!i){if(c.setUserInfo(s.info),s.info.userReal.id){Object.assign(o,s.info.userReal);let l=u.list.find(G=>G.val==s.info.userReal.type);o.typeText=l.title}else o.typeText=u.list[0].title,o.type=u.list[0].val;console.log(s)}}async function V(){c.loadingShow=!0;const{success:i,data:s}=await A({code:"realType"});!i||(u.list=s.list,I(),console.log(s))}V();let k=p(null);function $(){k.value.onShow()}let u=C({list:[]});function P(i){console.log("item",i),o.typeText=i.title,o.type=i.val}const T=p(null);function j(){T.value.onUploadClick()}function N(i){o.front_img=i}const R=p(null);function O(){R.value.onUploadClick()}function E(i){o.reverse_img=i}function U(i){F(i)}async function B(){c.loadingShow=!0;const{success:i,data:s}=await Q(o);!i||(W.success(s.msg),setTimeout(()=>{b.replace({name:"main"})},500),console.log(s))}return(i,s)=>(_(),v("div",Y,[e("div",Z,[e("div",{onClick:s[0]||(s[0]=l=>i.$router.go(-1)),class:"new-head-back"},te)]),e("div",se,a(t(n).titleText),1),e("div",oe,[r(e("div",{class:"v-real-fail"},a(t(n).failRemarkText)+": "+a(t(m).userReal.reason),513),[[f,t(m).userReal.status==0&&t(m).userReal.reason]]),e("div",ie,[e("div",le,[e("div",ne,a(t(n).realTypeText),1),e("div",{onClick:$,class:"v-form-item-input"},[r(e("input",{type:"text",readonly:"","onUpdate:modelValue":s[1]||(s[1]=l=>t(o).typeText=l),placeholder:t(n).realTypePlaceholerText},null,8,ae),[[y,t(o).typeText]]),re])]),e("div",ce,[e("div",me,a(t(n).nameText),1),e("div",de,[r(e("input",{readonly:t(d),type:"text","onUpdate:modelValue":s[2]||(s[2]=l=>t(o).name=l),placeholder:t(n).namePlaceholderText},null,8,ue),[[y,t(o).name]])])]),e("div",fe,[e("div",_e,a(t(n).idCardNumText),1),e("div",ve,[r(e("input",{readonly:t(d),type:"text","onUpdate:modelValue":s[3]||(s[3]=l=>t(o).id_card=l),placeholder:t(n).idCardNumPlaceholderText},null,8,ge),[[y,t(o).id_card]])])]),e("div",pe,[e("div",ye,[e("div",xe,[r(e("div",{onClick:j,class:"v-form-img-item-no-img g-flex-column g-flex-align-center g-flex-justify-center"},[he,e("div",ke,[e("span",null,a(t(n).frontImgText),1)])],512),[[f,!t(o).front_img]]),r(e("div",Te,[e("img",{onClick:s[4]||(s[4]=l=>U([t(o).front_img])),src:t(o).front_img,alt:""},null,8,Re),t(d)?x("",!0):(_(),v("i",{key:0,onClick:s[5]||(s[5]=l=>t(o).front_img=""),class:"iconfont icon-guanbi"}))],512),[[f,t(o).front_img]])])]),e("div",Ue,[e("div",Ce,[r(e("div",{onClick:O,class:"v-form-img-item-no-img g-flex-column g-flex-align-center g-flex-justify-center"},[Se,e("div",be,[e("span",null,a(t(n).backImgText),1)])],512),[[f,!t(o).reverse_img]]),r(e("div",we,[e("img",{onClick:s[6]||(s[6]=l=>U([t(o).reverse_img])),src:t(o).reverse_img,alt:""},null,8,Ie),t(d)?x("",!0):(_(),v("i",{key:0,onClick:s[7]||(s[7]=l=>t(o).reverse_img=""),class:"iconfont icon-guanbi"}))],512),[[f,t(o).reverse_img]])])])])]),t(d)?x("",!0):(_(),v("div",Ve,[e("div",{onClick:B,class:"v-form-btn g-flex-align-center g-flex-justify-center"},[e("span",null,a(t(n).submitText),1)])]))]),h(X,{columns:t(u).list,onEmitsSelectConfirm:P,selectVal:t(o).type,ref_key:"refSelectRadioPop",ref:k},null,8,["columns","selectVal"]),h(S,{MidrPath:"/userReal/",idString:"v-user-real-front-img",onEmitUploadSuccess:N,ref_key:"refOssUpload",ref:T},null,512),h(S,{MidrPath:"/userReal/",idString:"v-user-real-reverse-img",onEmitUploadSuccess:E,ref_key:"refOssUploadSecond",ref:R},null,512)]))}};export{Ge as default};
