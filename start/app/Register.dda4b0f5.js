import{s as q,u as E,c as T,l as G,k as A,r as g,a as b,o as D,d as L,f as e,g as t,j as l,v as r,I as y,t as c,a1 as f,Z as S,i as $,e as K,a0 as O,a2 as Z,T as _,a4 as F,a8 as J,a7 as Q,p as W}from"./index.de11b688.js";import{_ as X}from"./BindPhonesPop.d5fe9119.js";const Y={class:"v_register g-flex-column"},ee={class:"v-register-head g-flex-align-center"},te=e("i",{class:"iconfont icon-zuojiantou"},null,-1),se=[te],ie={class:"v-register-head-language g-flex-align-center"},oe=e("i",{class:"iconfont icon-duoyuyan"},null,-1),ne=[oe],le={class:"v-register-container"},ae={class:"v-register-logo"},de={class:"v-register-logo-img g-flex-align-center g-flex-justify-center"},re=["src"],ce={class:"v-register-logo-title g-flex-align-center g-flex-justify-center"},me=["src"],ue={class:"v-nav-list g-flex-align-center"},ve={class:"v-form"},ge={class:"v-form-item g-flex-align-center"},fe=e("div",{class:"v-form-item-left g-flex-align-center"},[e("i",{class:"iconfont icon-yonghu"})],-1),pe={class:"v-form-item-middle-input"},_e=["placeholder"],he={class:"v-form-item g-flex-align-center"},xe={class:"v-form-item-left-text"},ye=e("i",{class:"iconfont icon-right-1-copy"},null,-1),we={class:"v-form-item-middle-input"},ke=["placeholder"],Ce={class:"v-form-item g-flex-align-center"},Te=e("div",{class:"v-form-item-left g-flex-align-center"},[e("i",{class:"iconfont icon-youxiang"})],-1),be={class:"v-form-item-middle-input"},Se=["placeholder"],$e={class:"v-form-item g-flex-align-center"},Pe=e("div",{class:"v-form-item-left g-flex-align-center"},[e("i",{class:"iconfont icon-ziyuanxhdpi"})],-1),Re={class:"v-form-item-middle-input"},je=["type","placeholder"],Ve={class:"iconfont icon-bukejian"},Ie={class:"iconfont icon-kejian"},Me={class:"v-form-item g-flex-align-center"},Ue=e("div",{class:"v-form-item-left g-flex-align-center"},[e("i",{class:"iconfont icon-ziyuanxhdpi"})],-1),Be={class:"v-form-item-middle-input"},Ne=["type","placeholder"],ze={class:"iconfont icon-bukejian"},He={class:"iconfont icon-kejian"},qe={class:"v-form-item g-flex-align-center"},Ee=e("div",{class:"v-form-item-left g-flex-align-center"},[e("i",{class:"iconfont icon-yaoqing"})],-1),Ge={class:"v-form-item-middle-input"},Ae=["placeholder"],De={class:"v-form-item g-flex-align-center"},Le=e("div",{class:"v-form-item-left g-flex-align-center"},[e("i",{class:"iconfont icon-yanzhengma"})],-1),Ke={class:"v-form-item-middle-input"},Oe=["placeholder"],Ze={class:"v-form-item-middle-right-text"},Fe={class:"v-form-btn-box"},Je={class:"v-form-bottom g-flex-align-center g-flex-justify-between"},Qe={class:"v-form-bottom-item g-flex-align-center"},We={class:"v-form-bottom-item-title"},Xe={class:"v-register-footer-tips g-flex-justify-center g-flex-align-center"},st={__name:"Register",setup(Ye){const d=q(),w=E(),a=T(()=>w.tm("register")),h=T(()=>w.tm("gongyong")),P=G(),R=A();let m=g(!1),u=g(!1),i=b({type:Number(d.system.RegMode[0]),user_name:"",area_code:"",mobile:"",email:"",code:"",tid:"",password:"",password2:""});j();function j(){var n=P.query.tid;if(n)window.localStorage.setItem("tid",n),i.tid=n;else{var s=window.localStorage.getItem("tid");i.tid=s||""}}function x(n){i.type=n}let k=b({list:[]});async function V(){const{success:n,data:s}=await O();!n||(k.list=s.list,i.area_code=s.list[0].area_code)}V();const C=g(null);function I(){C.value.onShow()}function M(n){console.log("xxx",n.area_code),i.area_code=n.area_code}let v=g(0),p=g("");p.value=h.value.sendCodeText;function U(){v.value||(i.type==1?B():i.type==2&&N())}async function B(){d.loadingShow=!0;const{success:n,data:s}=await Z({area_code:i.area_code,mobile:i.mobile});if(!n)return;let o=60;_(s.msg),v.value=setInterval(()=>{o--,p.value=o===0?h.value.againSendCodeText:o+"s",o===0&&(clearInterval(v.value),v.value=0)},1e3)}async function N(){d.loadingShow=!0;const{success:n,data:s}=await F({email:i.email});if(!n)return;let o=60;_(s.msg),v.value=setInterval(()=>{o--,p.value=o==0?h.value.againSendCodeText:o+"s",o===0&&(clearInterval(v.value),v.value=0)},1e3)}async function z(){if(i.password!=i.password2)return _(a.value.pwdNoSame);d.loadingShow=!0;const{success:n,data:s}=await J(i);!n||(_(s.msg),d.setToken(s.token),Q.setToken(s.token),H(),setTimeout(()=>{R.replace({name:"main"})},500),console.log(s))}async function H(){const{success:n,data:s}=await W({id:2});!n||(d.kefu=s.info,console.log("store",d))}return(n,s)=>(D(),L("div",Y,[e("div",ee,[e("div",{onClick:s[0]||(s[0]=o=>n.$router.go(-1)),class:"v-register-head-back g-flex-align-center"},se),e("div",ie,[e("div",{onClick:s[1]||(s[1]=o=>n.$router.push({name:"languageset"})),class:"v-register-head-language-img g-flex-align-center"},ne)])]),e("div",le,[e("div",ae,[e("div",de,[e("img",{src:t(d).banner.logo[0],alt:""},null,8,re)]),e("div",ce,[e("img",{src:t(d).banner.logo[2],alt:""},null,8,me)])]),e("div",ue,[l(e("div",{onClick:s[2]||(s[2]=o=>x(0)),class:y([t(i).type==0?"active":"","v-nav-item"])},[e("span",null,c(t(a).userNameRegText),1)],2),[[r,t(d).system.RegMode.includes("0")]]),l(e("div",{onClick:s[3]||(s[3]=o=>x(1)),class:y([t(i).type==1?"active":"","v-nav-item"])},[e("span",null,c(t(a).mobileRegText),1)],2),[[r,t(d).system.RegMode.includes("1")]]),l(e("div",{onClick:s[4]||(s[4]=o=>x(2)),class:y([t(i).type==2?"active":"","v-nav-item"])},[e("span",null,c(t(a).emailRegText),1)],2),[[r,t(d).system.RegMode.includes("2")]])]),e("div",ve,[l(e("div",ge,[fe,e("div",pe,[l(e("input",{type:"text","onUpdate:modelValue":s[5]||(s[5]=o=>t(i).user_name=o),placeholder:t(a).usernamePlaceholderText},null,8,_e),[[f,t(i).user_name]])])],512),[[r,t(d).system.UserShow==1||t(i).type==0]]),l(e("div",he,[e("div",{onClick:I,class:"v-form-item-left g-flex-align-center"},[e("span",xe,"+"+c(t(i).area_code),1),ye]),e("div",we,[l(e("input",{type:"text","onUpdate:modelValue":s[6]||(s[6]=o=>t(i).mobile=o),placeholder:t(a).mobilePlaceholderText},null,8,ke),[[f,t(i).mobile]])])],512),[[r,t(i).type==1]]),l(e("div",Ce,[Te,e("div",be,[l(e("input",{type:"text","onUpdate:modelValue":s[7]||(s[7]=o=>t(i).email=o),placeholder:t(a).emailPlaceholderText},null,8,Se),[[f,t(i).email]])])],512),[[r,t(i).type==2]]),e("div",$e,[Pe,e("div",Re,[l(e("input",{type:t(m)?"password":"text","onUpdate:modelValue":s[8]||(s[8]=o=>t(i).password=o),placeholder:t(a).pwdPlaceholderText},null,8,je),[[S,t(i).password]])]),e("div",{onClick:s[9]||(s[9]=o=>$(m)?m.value=!t(m):m=!t(m)),class:"v-form-item-middle-right g-flex-align-center"},[l(e("i",Ve,null,512),[[r,!t(m)]]),l(e("i",Ie,null,512),[[r,t(m)]])])]),e("div",Me,[Ue,e("div",Be,[l(e("input",{type:t(u)?"text":"password","onUpdate:modelValue":s[10]||(s[10]=o=>t(i).password2=o),placeholder:t(a).secondPwdPlaceholderText},null,8,Ne),[[S,t(i).password2]])]),e("div",{onClick:s[11]||(s[11]=o=>$(u)?u.value=!t(u):u=!t(u)),class:"v-form-item-middle-right g-flex-align-center"},[l(e("i",ze,null,512),[[r,!t(u)]]),l(e("i",He,null,512),[[r,t(u)]])])]),l(e("div",qe,[Ee,e("div",Ge,[l(e("input",{type:"text","onUpdate:modelValue":s[12]||(s[12]=o=>t(i).tid=o),placeholder:t(a).inviteCodePlaceholderText},null,8,Ae),[[f,t(i).tid]])])],512),[[r,t(d).system.TidSet!=0]]),l(e("div",De,[Le,e("div",Ke,[l(e("input",{type:"text","onUpdate:modelValue":s[13]||(s[13]=o=>t(i).code=o),placeholder:t(a).yanzhengCodeText},null,8,Oe),[[f,t(i).code]])]),e("div",{onClick:U,class:"v-form-item-middle-right g-flex-align-center"},[e("span",Ze,c(t(p)),1)])],512),[[r,t(i).type!=0]]),e("div",Fe,[e("div",{onClick:z,class:"v-form-btn g-flex-align-center g-flex-justify-center"},[e("span",null,c(t(a).registerBtnText),1)])]),e("div",Je,[e("div",Qe,[e("div",We,[e("span",null,c(t(a).alreadyText),1)]),e("div",{onClick:s[14]||(s[14]=o=>n.$router.replace({name:"login"})),class:"v-form-bottom-item-val"},[e("span",null,c(t(a).loginBtnText),1)])])])]),e("div",Xe,[e("span",null,c(t(a).registerTipsText),1),e("span",{onClick:s[15]||(s[15]=o=>n.$router.push({name:"rule",query:{id:1}})),class:"v-register-footer-tips-val"},c(t(a).shiyongtiaokuanText),1),e("span",null,c(t(a).andText),1),e("span",{onClick:s[16]||(s[16]=o=>n.$router.push({name:"rule",query:{id:2}})),class:"v-register-footer-tips-val"},c(t(a).yingsiText),1)])]),K(X,{list:t(k).list,onEmitPhoneItemClick:M,ref_key:"refBindPhonesPop",ref:C},null,8,["list"])]))}};export{st as default};
