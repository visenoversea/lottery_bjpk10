import{_ as z}from"./ChartView.8c3e1bc7.js";import{b as E,r as v,c as i,d as M,w as N,o as m,k as y,h as o,f as d,g as n,m as c,e as U,F as Y,D as $,N as T,G as j,n as f,E as g,Q as A}from"./index.088b396a.js";const F={class:"g-flex"},H=d("span",null,"K\u7EBF\u751F\u6210",-1),q={class:"g-flex-justify-end g-flex-1"},G={style:{"padding-left":"12px"}},Q=d("span",{class:"g-red"},"\u6BD4\u5982\u6CE2\u52A8\u503C\u4E3A0.6,\u5219\u6BCF\u5206\u949F\u4EF7\u683C\u6CE2\u52A8\u57280-0.6\u8303\u56F4\u5185(\u968F\u673A\u7684)\uFF0C\u4E5F\u5C31\u662F\u6BCF\u5206\u949F\u6700\u53EA\u80FD\u6DA8\u6216\u8005\u8DCC\u6700\u591A0.6\u7684\u4EF7\u683C",-1),S=d("span",{style:{padding:"5px"},class:"g-green"},"\u8DCC",-1),J=d("span",{style:{padding:"5px"},class:"g-red"},"\u6DA8",-1),X={__name:"IndexView",setup(O){const r=E(!1),t=v({id:0,type:0,fixed:2,date_time:[],bodong:"",zdf:50}),a=v({productIndex:"",productList:[],klineData:[]}),b=async()=>{r.value=!0;const{success:s,data:e}=await f.getAllProductList({type:"1,3"});r.value=!1,s&&(a.productList=e.list)},x=async()=>{r.value=!0;const{success:s,data:e}=await f.getProductKlineList(t);r.value=!1,s&&(t.date_time=e.date_time,a.klineData=e.kline)};b();const k=s=>{a.productIndex=s;let e=a.productList[s];t.type=1,t.fixed=e.fixed,t.id=e.id,t.bodong=e.bodong,t.zdf=50,x()},p=s=>{if(a.productIndex===""){g.error("\u8BF7\u9009\u62E9\u4EA7\u54C1");return}t.type=s,x()},V=()=>{if(a.productIndex===""){g.error("\u8BF7\u9009\u62E9\u4EA7\u54C1");return}A.confirm("\u786E\u8BA4\u4FDD\u5B58K\u7EBF?","\u63D0\u793A",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88",type:"warning"}).then(async()=>{r.value=!0;const{success:s,data:e}=await f.addProductKline({id:t.id,data:a.klineData});r.value=!1,s&&g.success(e.msg)})};return(s,e)=>{const _=i("el-button"),w=i("el-radio-button"),D=i("el-radio-group"),u=i("el-form-item"),K=i("el-date-picker"),L=i("el-input"),C=i("el-slider"),I=i("el-form"),B=i("el-card"),P=M("loading");return N((m(),y(B,null,{header:o(()=>[d("div",F,[H,d("div",q,[n(_,{type:"success",onClick:e[0]||(e[0]=l=>p(0))},{default:o(()=>[c("K\u7EBF\u751F\u6210")]),_:1}),n(_,{type:"danger",onClick:V},{default:o(()=>[c("\u4FDD\u5B58K\u7EBF\u56FE")]),_:1})])])]),default:o(()=>[n(I,{inline:!0},{default:o(()=>[d("div",null,[n(u,{label:"\u5E01\u79CD"},{default:o(()=>[n(D,{onChange:k,modelValue:a.productIndex,"onUpdate:modelValue":e[1]||(e[1]=l=>a.productIndex=l)},{default:o(()=>[(m(!0),U(Y,null,$(a.productList,(l,h)=>(m(),y(w,{key:l.id,class:T({"api-zy":l.api==1}),label:h},{default:o(()=>[c(j(l.title),1)]),_:2},1032,["class","label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),d("div",null,[n(u,{label:"\u65F6\u95F4"},{default:o(()=>[n(K,{"value-format":"YYYY-MM-DD HH:mm:ss",modelValue:t.date_time,"onUpdate:modelValue":e[2]||(e[2]=l=>t.date_time=l),onChange:e[3]||(e[3]=l=>p(0)),type:"datetimerange","range-separator":"\u81F3","start-placeholder":"\u5F00\u59CB\u65E5\u671F","end-placeholder":"\u7ED3\u675F\u65E5\u671F"},null,8,["modelValue"]),d("span",G,[n(_,{type:"primary",onClick:e[4]||(e[4]=l=>p(2))},{default:o(()=>[c("\u4ECA\u65E5\u5FEB\u6377")]),_:1})])]),_:1})]),d("div",null,[n(u,{label:"\u6CE2\u52A8\u503C"},{default:o(()=>[n(L,{modelValue:t.bodong,"onUpdate:modelValue":e[5]||(e[5]=l=>t.bodong=l),placeholder:"\u8BF7\u8F93\u5165\u6700\u5927\u6CE2\u52A8\u6570\u503C"},null,8,["modelValue"]),Q]),_:1})]),d("div",null,[n(u,{label:"\u6DA8\u8DCC"},{default:o(()=>[S,n(C,{style:{width:"400px"},modelValue:t.zdf,"onUpdate:modelValue":e[6]||(e[6]=l=>t.zdf=l),min:30,max:70,step:5,"show-stops":""},null,8,["modelValue"]),J]),_:1})])]),_:1}),n(z,{kline:a.klineData,precision:t.fixed},null,8,["kline","precision"])]),_:1})),[[P,r.value]])}}};export{X as default};
