import{r as w,c as s,d as L,o as i,k as y,h as t,g as l,j as B,m as N,w as T,f as u,N as Y,G as _,e as p,i as I,n as K}from"./index.088b396a.js";import{f as j}from"./index.969b688d.js";const E=u("div",{class:"g-flex"},[u("span",null,"\u5E01\u5E01\u5151\u6362\u8BB0\u5F55")],-1),H={key:0,class:"g-green"},M={key:1,class:"g-blue"},S={key:2,class:"g-grey"},$={key:3,class:"g-red"},q={key:0,class:"g-red"},F={key:1},G={key:0,class:"g-blue"},A={key:1},J={class:"g-purple"},O={class:"g-blue"},P={class:"g-red"},Q={class:"g-blue"},R={class:"g-red"},ee={__name:"IndexView",setup(W){const m=w({loading:!1,total:0,list:[]}),o=w({userType:"",virtual:"",date_time:[],search_key:"user_name",search_val:"",page:1,limit:15}),d=async(g=!0)=>{g&&(o.page=1),m.loading=!0;const{success:a,data:n}=await K.getUserExchangeList(o);m.loading=!1,a&&(m.list=n.list,m.total=n.total)};return d(),(g,a)=>{const n=s("el-option"),f=s("el-select"),c=s("el-form-item"),h=s("el-date-picker"),v=s("el-input"),b=s("el-col"),k=s("el-button"),V=s("el-row"),x=s("el-form"),r=s("el-table-column"),C=s("el-table"),D=s("el-pagination"),U=s("el-card"),z=L("loading");return i(),y(U,null,{header:t(()=>[E]),default:t(()=>[l(x,{inline:!0},{default:t(()=>[l(c,{label:"\u7528\u6237\u7C7B\u578B"},{default:t(()=>[l(f,{modelValue:o.userType,"onUpdate:modelValue":a[0]||(a[0]=e=>o.userType=e),onChange:d},{default:t(()=>[l(n,{label:"\u5168\u90E8",value:""}),l(n,{label:"\u7BA1\u7406\u5458",value:"10"}),l(n,{label:"\u4EE3\u7406",value:"2"}),l(n,{label:"\u4F1A\u5458",value:"1"})]),_:1},8,["modelValue"])]),_:1}),l(c,{label:"\u8D26\u53F7\u7C7B\u578B"},{default:t(()=>[l(f,{modelValue:o.virtual,"onUpdate:modelValue":a[1]||(a[1]=e=>o.virtual=e),onChange:d},{default:t(()=>[l(n,{label:"\u5168\u90E8",value:""}),l(n,{label:"\u865A\u62DF\u53F7",value:"1"}),l(n,{label:"\u6B63\u5E38",value:"0"})]),_:1},8,["modelValue"])]),_:1}),l(c,{label:"\u65F6\u95F4"},{default:t(()=>[l(h,{"value-format":"YYYY-MM-DD HH:mm:ss",modelValue:o.date_time,"onUpdate:modelValue":a[2]||(a[2]=e=>o.date_time=e),onChange:d,type:"datetimerange","default-time":[new Date(2e3,1,1,0,0,0),new Date(2e3,1,1,23,59,59)],"range-separator":"\u81F3","start-placeholder":"\u5F00\u59CB\u65E5\u671F","end-placeholder":"\u7ED3\u675F\u65E5\u671F"},null,8,["modelValue","default-time"])]),_:1}),l(c,null,{label:t(()=>[l(f,{modelValue:o.search_key,"onUpdate:modelValue":a[3]||(a[3]=e=>o.search_key=e)},{default:t(()=>[l(n,{label:"\u7528\u6237\u540D",value:"user_name"}),l(n,{label:"\u7528\u6237ID",value:"user_id"}),l(n,{label:"\u6D88\u8D39\u5E01\u79CD",value:"from_currency"}),l(n,{label:"\u5151\u6362\u5E01\u79CD",value:"to_currency"})]),_:1},8,["modelValue"])]),default:t(()=>[l(V,null,{default:t(()=>[l(b,{span:18},{default:t(()=>[l(v,{modelValue:o.search_val,"onUpdate:modelValue":a[4]||(a[4]=e=>o.search_val=e),onKeyup:B(d,["enter"]),onClear:d,placeholder:"\u8BF7\u8F93\u5165\u67E5\u627E\u5185\u5BB9",clearable:""},null,8,["modelValue","onKeyup"])]),_:1}),l(b,{span:5,offset:1},{default:t(()=>[l(k,{type:"primary",onClick:d},{default:t(()=>[N("\u67E5\u8BE2")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),T((i(),y(C,{data:m.list,stripe:"",border:""},{default:t(()=>[l(r,{fixed:"left",label:"ID",prop:"id",width:"80"}),l(r,{fixed:"left",label:"\u7528\u6237",width:"120"},{default:t(e=>[u("div",{class:Y({"g-bg-pink":e.row.user.virtual})},[u("span",null,_(e.row.user.id),1),e.row.user.type===1?(i(),p("span",H,"(\u4F1A\u5458)")):e.row.user.type===2?(i(),p("span",M,"(\u4EE3\u7406)")):e.row.user.type===0?(i(),p("span",S,"(\u865A\u62DF\u76D8)")):(i(),p("span",$,"(\u5F02\u5E38)"))],2)]),_:1}),l(r,{fixed:"left",prop:"user.user_name",label:"\u7528\u6237\u540D",width:"100"}),l(r,{label:"\u603B\u4EE3\u7406",width:"100"},{default:t(e=>[e.row.agentList.length>0?(i(),p("span",q,_(e.row.agentList[0].user_name),1)):(i(),p("span",F,"-"))]),_:1}),l(r,{label:"\u4E0A\u7EA7\u4EE3\u7406",width:"100"},{default:t(e=>[e.row.agentList.length>0?(i(),p("span",G,_(e.row.agentList[e.row.agentList.length-1].user_name),1)):(i(),p("span",A,"-"))]),_:1}),l(r,{label:"\u5151\u6362\u6BD4\u4F8B","min-width":"100"},{default:t(e=>[u("span",J,_((e.row.from_rate/e.row.to_rate).toFixed(8)),1)]),_:1}),l(r,{label:"\u6D88\u8D39\u5E01\u79CD","min-width":"80"},{default:t(e=>[u("span",O,_(e.row.from_currency),1)]),_:1}),l(r,{label:"\u6D88\u8D39\u6570\u91CF","min-width":"80"},{default:t(e=>[u("span",P,_(e.row.from_amount),1)]),_:1}),l(r,{label:"\u5151\u6362\u5E01\u79CD","min-width":"80"},{default:t(e=>[u("span",Q,_(e.row.to_currency),1)]),_:1}),l(r,{label:"\u5151\u6362\u6570\u91CF","min-width":"80"},{default:t(e=>[u("span",R,_(e.row.to_amount),1)]),_:1}),l(r,{label:"\u5151\u6362\u65F6\u95F4",width:"130"},{default:t(e=>[u("span",null,_(I(j)(e.row.create_time)),1)]),_:1})]),_:1},8,["data"])),[[z,m.loading]]),l(D,{"page-sizes":[15,30,60,100],total:m.total,"page-size":o.limit,"onUpdate:page-size":a[5]||(a[5]=e=>o.limit=e),"current-page":o.page,"onUpdate:current-page":a[6]||(a[6]=e=>o.page=e),onCurrentChange:a[7]||(a[7]=e=>d(!1)),onSizeChange:a[8]||(a[8]=e=>d(!1)),background:"",small:"",layout:"total, sizes, prev, pager, next, jumper"},null,8,["total","page-size","current-page"])]),_:1})}}};export{ee as default};
