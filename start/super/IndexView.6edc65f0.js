import{_ as P}from"./ChartView.8c3e1bc7.js";import{b as T,r as v,c as i,d as E,w as U,o as _,k as b,h as a,f as d,m as c,g as o,e as F,F as j,D as z,N as A,G as f,n as m,E as p,Q as M}from"./index.088b396a.js";const q={class:"g-flex"},G=d("span",null,"\u5FEB\u6377\u8C03\u4EF7",-1),Q={class:"g-flex-justify-end g-flex-1"},S=d("div",{class:"g-red",style:{"padding-bottom":"10px"}},"\u56E0\u548C-K\u7EBF\u751F\u6210-\u529F\u80FD\u5C5E\u4E8E\u540C\u7C7B\u6539\u4EF7\u529F\u80FD\uFF0C\u4F1A\u6709\u4EF7\u683C\u4FEE\u6539\u51B2\u7A81\uFF0C\u4F7F\u7528\u65F6\u9700\u6CE8\u610F\u4F7F\u7528\u5FEB\u6377\u8C03\u4EF7\u4FDD\u5B58\u5E01\u79CD\u751F\u6210\u6570\u636E\u540E\uFF0C\u5C06\u4F1A\u6E05\u9664\u8BE5\u5E01\u79CD\u5728-K\u7EBF\u751F\u6210-\u91CC\u9762\u751F\u6210\u7684\u6570\u636E",-1),$={class:"g-red"},R={__name:"IndexView",setup(H){const r=T(!1),l=v({id:0,target:"",fixed:2,bodong:"",sudu:3}),t=v({productIndex:"",productList:[],klineData:[],price:"-",tips:""}),V=async()=>{r.value=!0;const{success:s,data:e}=await m.getAllProductList({type:"1,3"});r.value=!1,s&&(t.productList=e.list)},k=async()=>{r.value=!0;const{success:s,data:e}=await m.getTargetKlineList(l);r.value=!1,s&&(t.klineData=e.kline,e.kline.length<360?t.tips="\u9884\u8BA1\u751F\u6210\u7684K\u7EBF\u5C06\u5728"+e.kline.length+"\u5206\u949F\u540E\u5230\u8FBE\u76EE\u6807\u4EF7\u683C"+l.target+"\uFF0C\u6EE1\u610F\u8BF7\u4FDD\u5B58":t.tips="\u5F53\u524D\u914D\u7F6E\u65E0\u6CD5\u5728\u77ED\u671F\u5185\u8FBE\u5230\u76EE\u6807\u4EF7\u683C\uFF0C\u5EFA\u8BAE 1.\u63D0\u9AD8\u6CE2\u52A8\u503C\u6216\u8005\u901F\u5EA6 2.\u4FEE\u6539\u76EE\u6807\u4EF7\u683C")};V();const y=s=>{t.productIndex=s;let e=t.productList[s];l.id=e.id,l.fixed=e.fixed,l.bodong=e.bodong,l.target="",l.sudu=3,t.price=Number(e.price).toFixed(e.fixed),t.tips=""},w=()=>{if(t.productIndex===""){p.error("\u8BF7\u9009\u62E9\u4EA7\u54C1");return}l.target>0?k():p.error("\u8BF7\u8BBE\u7F6E\u76EE\u6807\u4EF7")},K=()=>{if(t.productIndex===""){p.error("\u8BF7\u9009\u62E9\u4EA7\u54C1");return}M.confirm("\u786E\u8BA4\u4FDD\u5B58K\u7EBF?","\u63D0\u793A",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88",type:"warning"}).then(async()=>{r.value=!0;const{success:s,data:e}=await m.addProductKline({id:l.id,data:t.klineData});r.value=!1,s&&p.success(e.msg)})};return(s,e)=>{const g=i("el-button"),h=i("el-radio-button"),L=i("el-radio-group"),u=i("el-form-item"),x=i("el-input"),D=i("el-slider"),I=i("el-form"),B=i("el-card"),C=E("loading");return U((_(),b(B,null,{header:a(()=>[d("div",q,[G,c("\xA0\xA0 "),d("div",Q,[o(g,{type:"success",onClick:w},{default:a(()=>[c("K\u7EBF\u751F\u6210")]),_:1}),o(g,{type:"danger",onClick:K},{default:a(()=>[c("\u4FDD\u5B58K\u7EBF\u56FE")]),_:1})])])]),default:a(()=>[S,o(I,{inline:!0},{default:a(()=>[d("div",null,[o(u,{label:"\u5E01\u79CD"},{default:a(()=>[o(L,{onChange:y,modelValue:t.productIndex,"onUpdate:modelValue":e[0]||(e[0]=n=>t.productIndex=n)},{default:a(()=>[(_(!0),F(j,null,z(t.productList,(n,N)=>(_(),b(h,{key:n.id,class:A({"api-zy":n.api==1}),label:N},{default:a(()=>[c(f(n.title),1)]),_:2},1032,["class","label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),d("div",null,[o(u,{label:"\u76EE\u6807\u4EF7"},{default:a(()=>[o(x,{modelValue:l.target,"onUpdate:modelValue":e[1]||(e[1]=n=>l.target=n),placeholder:"\u8BF7\u8F93\u5165\u76EE\u6807\u4EF7"},null,8,["modelValue"])]),_:1}),o(u,{label:"\u5F53\u524D\u4EF7"},{default:a(()=>[c(f(t.price),1)]),_:1})]),d("div",null,[o(u,{label:"\u6CE2\u52A8"},{default:a(()=>[o(x,{modelValue:l.bodong,"onUpdate:modelValue":e[2]||(e[2]=n=>l.bodong=n),placeholder:"\u8BF7\u8F93\u5165\u6CE2\u52A8\u6570\u503C"},null,8,["modelValue"])]),_:1})]),d("div",null,[o(u,{label:"\u901F\u5EA6"},{default:a(()=>[o(D,{style:{width:"300px"},modelValue:l.sudu,"onUpdate:modelValue":e[3]||(e[3]=n=>l.sudu=n),min:2,max:8,step:1,"show-stops":""},null,8,["modelValue"])]),_:1})])]),_:1}),d("div",$,f(t.tips),1),o(P,{kline:t.klineData,precision:l.fixed},null,8,["kline","precision"])]),_:1})),[[C,r.value]])}}};export{R as default};
