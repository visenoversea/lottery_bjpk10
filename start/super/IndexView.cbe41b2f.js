import{u as I,r as v,c as d,d as j,o as n,k as g,h as t,g as l,j as D,m as y,w as H,f as i,N as P,G as _,e as p,l as b,i as N,n as k,E as z,Q as q}from"./index.088b396a.js";import{f as B}from"./index.969b688d.js";const G=i("div",{class:"g-flex"},[i("span",null,"\u7528\u6237\u9650\u65F6\u8BA2\u5355")],-1),Q={key:0,class:"g-green"},A={key:1,class:"g-blue"},J={key:2,class:"g-grey"},O={key:3,class:"g-red"},W={key:0},X={key:0,class:"g-green"},Z={key:1,class:"g-red"},ee={key:0,class:"g-green"},le={key:1,class:"g-red"},te={key:2,class:"g-purple"},ae={key:3,class:"g-red"},oe={class:"g-green"},se={class:"g-red"},re={class:"g-purple"},ne=i("span",{class:"g-blue"},"USDT",-1),pe={__name:"IndexView",setup(ue){const V=I(),U=v({setRiskUserProductTime:V.auth("setRiskUserProductTime"),delUserProductTime:V.auth("delUserProductTime")}),m=v({loading:!1,total:0,list:[],productList:{},row:{}}),s=v({userType:"",virtual:"",status:"",side:"",order_no:"",date_time:[],search_key:"user_name",search_val:"",page:1,limit:15}),u=async(w=!0)=>{w&&(s.page=1),m.loading=!0;const{success:a,data:o}=await k.getUserProductTimeList(s);m.loading=!1,a&&(m.list=o.list,m.total=o.total)};u();const L=async w=>{const{success:a,data:o}=await k.setRiskUserProductTime({id:w.id,riskStatus:w.risk_status});if(!a)return u(!1);z.success(o.msg)},S=w=>{q.confirm("\u786E\u8BA4\u5220\u9664\u6570\u636E?","\u63D0\u793A",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88",type:"warning"}).then(async()=>{m.loading=!0;const{success:a,data:o}=await k.delUserProductTime({id:w.id});m.loading=!1,a&&(z.success(o.msg),await u(!1))})};return(w,a)=>{const o=d("el-option"),c=d("el-select"),f=d("el-form-item"),K=d("el-date-picker"),C=d("el-input"),x=d("el-col"),T=d("el-button"),R=d("el-row"),E=d("el-form"),r=d("el-table-column"),M=d("el-table"),Y=d("el-pagination"),$=d("el-card"),F=j("loading");return n(),g($,null,{header:t(()=>[G]),default:t(()=>[l(E,{inline:!0},{default:t(()=>[l(f,{label:"\u7528\u6237\u7C7B\u578B"},{default:t(()=>[l(c,{modelValue:s.userType,"onUpdate:modelValue":a[0]||(a[0]=e=>s.userType=e),onChange:u},{default:t(()=>[l(o,{label:"\u5168\u90E8",value:""}),l(o,{label:"\u4EE3\u7406",value:"2"}),l(o,{label:"\u4F1A\u5458",value:"1"})]),_:1},8,["modelValue"])]),_:1}),l(f,{label:"\u8D26\u53F7\u7C7B\u578B"},{default:t(()=>[l(c,{modelValue:s.virtual,"onUpdate:modelValue":a[1]||(a[1]=e=>s.virtual=e),onChange:u},{default:t(()=>[l(o,{label:"\u5168\u90E8",value:""}),l(o,{label:"\u865A\u62DF\u53F7",value:"1"}),l(o,{label:"\u6B63\u5E38",value:"0"})]),_:1},8,["modelValue"])]),_:1}),l(f,{label:"\u72B6\u6001"},{default:t(()=>[l(c,{modelValue:s.status,"onUpdate:modelValue":a[2]||(a[2]=e=>s.status=e),onChange:u},{default:t(()=>[l(o,{label:"\u5168\u90E8",value:""}),l(o,{label:"\u6301\u4ED3",value:"1"}),l(o,{label:"\u5E73\u4ED3",value:"2"})]),_:1},8,["modelValue"])]),_:1}),l(f,{label:"\u65B9\u5411"},{default:t(()=>[l(c,{modelValue:s.side,"onUpdate:modelValue":a[3]||(a[3]=e=>s.side=e),onChange:u},{default:t(()=>[l(o,{label:"\u5168\u90E8",value:""}),l(o,{label:"\u4E70\u6DA8",value:"1"}),l(o,{label:"\u4E70\u8DCC",value:"2"})]),_:1},8,["modelValue"])]),_:1}),l(f,{label:"\u65F6\u95F4"},{default:t(()=>[l(K,{"value-format":"YYYY-MM-DD HH:mm:ss",modelValue:s.date_time,"onUpdate:modelValue":a[4]||(a[4]=e=>s.date_time=e),onChange:u,type:"datetimerange","default-time":[new Date(2e3,1,1,0,0,0),new Date(2e3,1,1,23,59,59)],"range-separator":"\u81F3","start-placeholder":"\u5F00\u59CB\u65E5\u671F","end-placeholder":"\u7ED3\u675F\u65E5\u671F"},null,8,["modelValue","default-time"])]),_:1}),l(f,{label:"\u8BA2\u5355\u53F7"},{default:t(()=>[l(C,{modelValue:s.order_no,"onUpdate:modelValue":a[5]||(a[5]=e=>s.order_no=e),onKeyup:D(u,["enter"]),placeholder:"\u8BF7\u8F93\u5165\u8BA2\u5355\u53F7",onClear:u,clearable:""},null,8,["modelValue","onKeyup"])]),_:1}),l(f,null,{label:t(()=>[l(c,{modelValue:s.search_key,"onUpdate:modelValue":a[6]||(a[6]=e=>s.search_key=e)},{default:t(()=>[l(o,{label:"\u7528\u6237\u540D",value:"user_name"}),l(o,{label:"\u7528\u6237ID",value:"user_id"}),l(o,{label:"\u6807\u9898",value:"title"})]),_:1},8,["modelValue"])]),default:t(()=>[l(R,null,{default:t(()=>[l(x,{span:18},{default:t(()=>[l(C,{modelValue:s.search_val,"onUpdate:modelValue":a[7]||(a[7]=e=>s.search_val=e),onKeyup:D(u,["enter"]),onClear:u,placeholder:"\u8BF7\u8F93\u5165\u67E5\u627E\u5185\u5BB9",clearable:""},null,8,["modelValue","onKeyup"])]),_:1}),l(x,{span:5,offset:1},{default:t(()=>[l(T,{type:"primary",onClick:u},{default:t(()=>[y("\u67E5\u8BE2")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),H((n(),g(M,{data:m.list,stripe:"",border:""},{default:t(()=>[l(r,{label:"\u7528\u6237",width:"120","show-overflow-tooltip":!0},{default:t(e=>[i("div",{class:P({"g-bg-pink":e.row.user.virtual})},[i("span",null,_(e.row.user.id),1),e.row.user.type===1?(n(),p("span",Q,"(\u4F1A\u5458)")):e.row.user.type===2?(n(),p("span",A,"(\u4EE3\u7406)")):e.row.user.type===0?(n(),p("span",J,"(\u865A\u62DF\u76D8)")):(n(),p("span",O,"(\u5F02\u5E38)"))],2)]),_:1}),l(r,{prop:"user.user_name",label:"\u7528\u6237\u540D",width:"100","show-overflow-tooltip":!0}),l(r,{label:"\u4E0A\u7EA7ID",width:"80","show-overflow-tooltip":!0},{default:t(e=>[e.row.agentList.length>0?(n(),p("div",W,_(e.row.agentList[e.row.agentList.length-1].id),1)):b("",!0)]),_:1}),l(r,{prop:"order_no",label:"\u8BA2\u5355\u53F7",width:"145","show-overflow-tooltip":!0}),l(r,{prop:"title",label:"\u6807\u9898","min-width":"80","show-overflow-tooltip":!0}),l(r,{label:"\u65B9\u5411",width:"50","show-overflow-tooltip":!0},{default:t(e=>[e.row.side==1?(n(),p("span",X,"\u4E70\u6DA8")):e.row.side==2?(n(),p("span",Z,"\u4E70\u8DCC")):b("",!0)]),_:1}),l(r,{label:"\u72B6\u6001",width:"50"},{default:t(e=>[e.row.status===1?(n(),p("span",ee,"\u6301\u4ED3")):e.row.status===2?(n(),p("span",le,"\u5E73\u4ED3")):e.row.status===0?(n(),p("span",te,"\u64A4\u5355")):(n(),p("span",ae,"\u5F02\u5E38"))]),_:1}),l(r,{prop:"amount",label:"\u4E0B\u5355\u91D1\u989D",width:"80","show-overflow-tooltip":!0}),l(r,{label:"\u5F00\u4ED3\u4EF7",width:"80","show-overflow-tooltip":!0},{default:t(e=>[i("span",oe,_(Number(e.row.open_price).toFixed(e.row.fixed)),1)]),_:1}),l(r,{label:"\u5E73\u4ED3\u4EF7",width:"80","show-overflow-tooltip":!0},{default:t(e=>[i("span",se,_(Number(e.row.sell_price).toFixed(e.row.fixed)),1)]),_:1}),l(r,{label:"\u5E73\u4ED3\u6536\u76CA",width:"80","show-overflow-tooltip":!0},{default:t(e=>[i("span",{class:P([e.row.sell_profit>=0?"g-green":"g-red"])},_(Number(e.row.sell_profit).toFixed(2)),3)]),_:1}),l(r,{label:"\u65F6\u95F4",width:"60","show-overflow-tooltip":!0},{default:t(e=>[i("span",null,_(e.row.time)+"S",1)]),_:1}),l(r,{label:"\u6536\u76CA\u7387",width:"60","show-overflow-tooltip":!0},{default:t(e=>[i("span",null,_(e.row.profit*100)+"%",1)]),_:1}),l(r,{label:"\u5F00\u4ED3\u65F6\u95F4",width:"130"},{default:t(e=>[i("span",null,_(N(B)(e.row.open_time)),1)]),_:1}),l(r,{label:"\u5E73\u4ED3\u65F6\u95F4",width:"130"},{default:t(e=>[i("span",null,_(N(B)(e.row.sell_time)),1)]),_:1}),l(r,{label:"\u624B\u7EED\u8D39",width:"80","show-overflow-tooltip":!0},{default:t(e=>[i("div",re,[y(_(e.row.fee)+" ",1),ne])]),_:1}),l(r,{prop:"operator",label:"\u64CD\u4F5C\u4EBA",width:"80","show-overflow-tooltip":!0}),U.setRiskUserProductTime?(n(),g(r,{key:0,label:"\u64CD\u4F5C",width:"130",fixed:"right"},{default:t(e=>[e.row.status==1?(n(),g(c,{key:0,modelValue:e.row.risk_status,"onUpdate:modelValue":h=>e.row.risk_status=h,onChange:h=>L(e.row),placeholder:"\u9ED8\u8BA4"},{default:t(()=>[l(o,{label:"\u9ED8\u8BA4",value:0}),l(o,{label:"\u8D62",value:1}),l(o,{label:"\u4E8F",value:2}),l(o,{label:"\u5E73\u5C40",value:3})]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])):b("",!0),U.delUserProductTime?(n(),g(T,{key:1,type:"danger",onClick:h=>S(e.row)},{default:t(()=>[y("\u5220\u9664")]),_:2},1032,["onClick"])):b("",!0)]),_:1})):b("",!0)]),_:1},8,["data"])),[[F,m.loading]]),l(Y,{"page-sizes":[15,30,60,100],total:m.total,"page-size":s.limit,"onUpdate:page-size":a[8]||(a[8]=e=>s.limit=e),"current-page":s.page,"onUpdate:current-page":a[9]||(a[9]=e=>s.page=e),onCurrentChange:a[10]||(a[10]=e=>u(!1)),onSizeChange:a[11]||(a[11]=e=>u(!1)),background:"",small:"",layout:"total, sizes, prev, pager, next, jumper"},null,8,["total","page-size","current-page"])]),_:1})}}};export{pe as default};
