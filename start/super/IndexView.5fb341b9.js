import{_ as I}from"./ChartView.8c3e1bc7.js";import{b as C,r as m,c as s,d as h,w as B,o as u,k as f,h as o,g as i,f as d,e as H,F as M,D as N,N as P,m as Y,G as A,n as g}from"./index.088b396a.js";const K=d("div",{class:"g-flex"},[d("span",null,"K\u7EBF\u5217\u8868\u67E5\u770B")],-1),j={__name:"IndexView",setup(z){const r=C(!1);let c=new Date,v=new Date(c.setHours(0,0,0,0)+864e5);const n=m({id:0,fixed:4,date_time:[new Date(c.setHours(0,0,0,0)),v]}),t=m({productIndex:"",productList:[],klineData:[]});(async()=>{r.value=!0;const{success:l,data:e}=await g.getAllProductList({type:"1,3"});r.value=!1,l&&(t.productList=e.list)})();const _=async()=>{r.value=!0;const{success:l,data:e}=await g.getMinuteKlineList(n);r.value=!1,l&&(t.klineData=e.kline)},x=l=>{t.productIndex=l;let e=t.productList[l];n.id=e.id,n.fixed=e.fixed,_()};return(l,e)=>{const k=s("el-radio-button"),D=s("el-radio-group"),p=s("el-form-item"),V=s("el-date-picker"),w=s("el-form"),y=s("el-card"),L=h("loading");return B((u(),f(y,null,{header:o(()=>[K]),default:o(()=>[i(w,{inline:!0},{default:o(()=>[d("div",null,[i(p,{label:"\u5E01\u79CD"},{default:o(()=>[i(D,{onChange:x,modelValue:t.productIndex,"onUpdate:modelValue":e[0]||(e[0]=a=>t.productIndex=a)},{default:o(()=>[(u(!0),H(M,null,N(t.productList,(a,b)=>(u(),f(k,{key:a.id,class:P({"api-zy":a.api==1}),label:b},{default:o(()=>[Y(A(a.title),1)]),_:2},1032,["class","label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),d("div",null,[i(p,{label:"\u65F6\u95F4"},{default:o(()=>[i(V,{"value-format":"YYYY-MM-DD HH:mm:ss",modelValue:n.date_time,"onUpdate:modelValue":e[1]||(e[1]=a=>n.date_time=a),onChange:e[2]||(e[2]=a=>_()),type:"datetimerange","range-separator":"\u81F3","start-placeholder":"\u5F00\u59CB\u65E5\u671F","end-placeholder":"\u7ED3\u675F\u65E5\u671F"},null,8,["modelValue"])]),_:1})])]),_:1}),i(I,{kline:t.klineData,precision:n.fixed},null,8,["kline","precision"])]),_:1})),[[L,r.value]])}}};export{j as default};
